'$INCLUDE:'.\ddlib\constants.bi'
'$INCLUDE:'.\ddlib\directory.bm'
'$INCLUDE:'.\ddlib\int.bm'
'$INCLUDE:'.\ddlib\path.bm'
'$INCLUDE:'.\test-print.bm'
' ----------------------------------------------------------------------------
function test.GetTestFolder$()
	test.GetTestFolder$ = "c:\temp\dirtestfolder"
end function
' ----------------------------------------------------------------------------
sub test.Directory
	call test.Exists
	call test.Delete
	call test.CreateDirectory
	call test.GetFiles
	call test.GetFolders
end sub
' ----------------------------------------------------------------------------
sub test.Exists
	if instr(_os$,"[WINDOWS]") > 0 then
		if directory.Exists("c:\windows") then
			print.success("directory.Exists")
		else
			print.fail("directory.Exists")
		end if
	end if
end sub
' ----------------------------------------------------------------------------
sub test.Delete
	call directory.Delete(test.GetTestFolder$)
	if directory.Exists(test.GetTestFolder$) then
		print.fail("directory.Delete")
	else
		print.success("directory.Delete")
	end if
end sub
' ----------------------------------------------------------------------------
sub test.CreateDirectory
	if directory.CreateDirectory(test.GetTestFolder$) then
		print.success("directory.CreateDirectory")
	else
		print.fail("directory.CreateDirectory")
	end if
end sub
' ----------------------------------------------------------------------------
sub test.GetFiles
	dim filelist(1 to 0) as string
	dim searchFolder as string : searchFolder = path.AddSlash(_cwd$) + "testdata"
	call directory.GetFiles(searchFolder, filelist(), boolean.FALSE)
	
	if ubound(filelist) <> 4 then
		print.fail("directory.GetAllFiles - No Subs")
	else
		print.success("directory.GetAllFiles - No Subs")
	end if
	
	call directory.GetFiles(searchFolder, filelist(), boolean.TRUE)
	if ubound(filelist) <> 8 then
		print.fail("directory.GetAllFiles - Subs")
	else
		print.success("directory.GetAllFiles - Subs")
	end if
end sub
' ----------------------------------------------------------------------------
sub test.GetFolders
	dim filelist(1 to 0) as string
	dim searchFolder as string : searchFolder = path.AddSlash(_cwd$) + "testdata"
	
	call directory.GetFolders(searchFolder, filelist(), boolean.FALSE)
	
	if ubound(filelist) <> 2 then
		print.fail("directory.GetFolders - No Subs")
	else
		print.success("directory.GetFolders - No Subs")
	end if
	
	call directory.GetFolders(searchFolder, filelist(), boolean.TRUE)
	if ubound(filelist) <> 3 then
		print.fail("directory.GetFolders - Subs")
	else
		print.success("directory.GetFolders - Subs")
	end if
	
end sub